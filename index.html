<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <link rel="stylesheet"  type="text/css" href="styles.css">
    <title>Documentation</title>
</head>
<body>
    <div id="nav-bar"class="primary">
        <div class="container-xxl fullWidth fullHeight relative">
            <h1 class="vertical m-text-primary ">Documentation</h1>
        </div>

    </div>

    <div class="container-xxl height-lol relative" >
        <div class="row zero">
            <div class="col-sm-12 col-md-3 sticky ">
                <div class="vertical-spacing"></div>
                <div style="border-radius: 0.5rem;" id="left-div" class="sticky secondary corners-round hidden padding ">
                    <input type="search" class="form-control" id="search">
                    <div class="horizontal-spacing " ></div>
                </div>
              </div>

              <div class="col-sm-12 col-md-9 height-lol ">
                      <div class="vertical-spacing"></div>

                <div id="Getting_Started" class="section">
                    <h1>Getting Started</h1>
                    <hr>
                    <p class="section-text">KETSU is an app that allows developers to adapt websites to app format.</p>
                    <p class="section-text">KETSU by itself is an empty app, it can´t do anything. You have to feed it a module to make it do something. This modules contain the instructions for KETSU to do things. This instructions can be, go to x website get the data and display it for example.</p>

                    <p class="section-text">Here you are going to understand how modules work, how to make modules for KETSU, how to debug errors, how to set up the enviorment to develop modules etc. So lets get started!</p>
                    <div id="Knowledge" class="subSection">
                        <h2>Knowledge</h2>
                        <hr>
                        <p class="section-text">In order to be able to create modules you need basic knowledge on few ambits.</p>
                        <p class="section-text">Javascript: Its important to know how code in js (Intermediate), Understand objects and know interact with the DOM.</p>
                        <p class="section-text">Scrapping (Optional): If you have previous experience with web scrapping things will be more easy for you.</p>
                        <p class="section-text">JSON: you will need to know json notation and how to interact with it.</p>
                        <p class="section-text">Networking: You need to know and understand basic networking.</p>
                    </div>
                </div>

                <div id="Modules" class="section">
                    <h1>Modules</h1>
                    <hr>
                    <p class="section-text">Modules are basically a json object, this json object contains the instructions for the app to work</p>
                    <p class="section-text">You can see an example of module over <a target="_blank" href="https://raw.githubusercontent.com/appketsu/KETSU-Setup/main/Example%20modules/imageModule.json">here</a></p>
                    <p class="section-text">To visualize it better, we are going to display the json in tree format. So you can see things more clear.</p>
                    <div id="Modules_structure" class="subSection">
                        <h2>Modules Structure</h2>
                        <hr>
                        <p class="section-text">Modules have 6 major parts the moduleInfo, mainPage, search, info, chapters and moduleResolvers.</p>
                        <img  class="img-fluid" src="images/ModuleTree.png">
                        <p class="section-text">Module Info: Contains info about the module and some basic configuration. such as the version, name etc.</p>
                        <p class="section-text">The other ones that i mentionted above are the one ones in charge of making the mainpage, search, info etc get data from websites and display it. They are the most important objects because they contain the instructions for KETSU to do stuff.</p>
                        <p class="section-text">The last ones that i didn´t mentioned above and you can see on the image are used for more advanced stuff, this will be covered after you understand the basics.</p>
                    </div>
                    <div id="The_basics" class="subSection">
                        <h2>The basics</h2>
                        <hr>
                        <p class="section-text">Alright lets start with the basics. We are going to start with filling the module Info</p>
                        <p class="section-text">To start making your module you will need the template. You can download it clicking <a href="Module Template.zip" target=_blank>here</a></p>
                        <p class="section-text">On the json go to the module info and fill the variables with the info about your module</p>
                        <img src="images/Mouduleinfo.png">
                        <p class="section-text">Everything is very straight fordward, on moduleType set it to Video,Image, or Text depending on the output you want for your module.</p>

                    </div>
                    <div id="Main_Page" class="subSection">
                        <h2>Main Page</h2>
                        <hr>
                        <p class="section-text">Let´s start with the actual thing, im just going to explain the mainpage part, because every part uses the same logic so if you are able to make the mainpage do something, you will be able to do it for the rest of the sections.</p>
                        <p class="section-text">The mainpage object is the one in charge of displaying data on the Main page, were you expecting that? i know right. Anyways lets take a look at the MainPage object.</p>
                        <img class="img-fluid" src="images/mainpage.png">
                        <p class="section-text">As you can see the mainpage is an array of mainpage objects. Each one represents a request to a site, it´s an array because its not limited to one request. At the moment we are not going to chain request to simplify everything. </p>
                        <p class="section-text">The most important stuff here is the request, if you want to scrape data from google news for example, you set the url to google news and KETSU will do a request to that url.</p>
                        <p class="section-text">The other important part is the javascript, the javascript is basically the logic, it is what is going to take the data from the site and fix it so KETSU can read it.</p>
                        <p class="section-text">The objective of the javascript is going to be to recreate this same mainpage JSON object but with the output filled with the data you want kETSU to display.</p>
                        <p class="section-text">On the module template you can find javascript templates for each section, let´s take a look at the mainpage section.</p>
                    </div>
                    <div id="Main_Page_Javascript" class="subSection">
                        <h2>Main Page Javascript</h2>
                        <hr>
                        <p class="section-text">At the top you will find some objects with static values that you can use on the javascript. I will explain you the use of them later.</p>
                        <img class="img-fluid" src="Images/staticVariables.png">
                        <p class="section-text">After the static variables you will see the function classes, this functions allow you to create obejcts, you will use this objects to recreate the mainpage json object mentioned above, but through javascript.</p>
                        <img  class="img-fluid" src="Images/functionClasses.png">
                        <p class="section-text">Then you will find some usefull functions that will speed up your development, they are there to make your life easier, depending on the section you are coding (mainpage,search etc) they will vary.</p>
                        <img class="img-fluid" src="Images/usefullFunctions.png">
                        <p class="section-text">And lastly the part where you have to code with some instructions, in most of the cases every object is made already and you just have to fill the outpu array with output objects, you have the instructions for each part inside the javscript itself.</p>
                        <img class="img-fluid" src="Images/finaljsmainpage.png">
                        <p class="section-text">As you can see after the mainpage object is done it is converted to a JSON string, and saved on an element on the html with an id called ketsu-final-data, it is generated by KETSU so you dont have to create it. After you save the object on the ketsu-final-div element KETSU will take it and read it to display the data.</p>
                        <p class="section-text">Now im going to talk about the working flow of KETSU so you understand what i just explained better.</p>
                    </div>
                </div>
                <div id="KETSU_Flow" class="section">
                    <h1>KETSU Flow</h1>
                    <hr>
                    <p class="section-text">Here im going to explain what is KETSU doing with the request and the javascript, its important for you to understand this, this is basically the foundtation of what is going with the javascript the request and basically the whole thing.</p>

                    
                    <div id="Flow" class="subSection">
                        <h2>Flow</h2>
                        <hr>
                        <p class="section-text">As i said im going to explain it only for the mainpage section but every section works the same.
                        </p>
                        <p class="section-text">Everything starts with the first object of the section in this case is this one.</p>
                        <img class="img-fluid" src="Images/mainpage.png">
                        <p class="section-text">Now what KETSU is going to do when it loads the mainpage? it will do a request to the url in this case is google.com and it will retrieve the html.</p>
                        <p class="section-text">Two things are going to be changed from the original html.</p>
                        <p class="section-text">The first one, on the top of the html body of the request, KESTU will add a div with an id called 'ketsu-final-data', inside this div KETSU will put the mainpage object of the json the one we mentioned above. it will look like somethign like this</p>
                        <img class="img-fluid" src="Images/google.png">
                        <p class="section-text">And on the bottom, as you can see there is a script element, this script is also generated by KETSU and it will be filled with the script you set on the script variable of the mainpage json object</p>
                        <img class="img-fluid" src="Images/script.png">
                        <p class="section-text">The javascript will be executed, and as i said before it has to take the data from the html and generate the same JSON object as the mainpage one but with the output array filled with data. Data that will be displayed later on KETSU.</p>
                        <img class="img-fluid" src="Images/output array.png">
                        <p class="section-text">Now if on this new object that you created throught the javascript you leave the request variable empty, KETSU will stop making request and it will take the output from the object to display it in the mainpage.</p>
                        <p class="vertical-spacing"></p>

                        <div class="alert alert-danger" role="alert">
                            This is more complex stuff.
                          </div>
                        <p class="section-text">If you needed to make another request, you would have to set the new url on the object you just created through the javascript. Then KESTU will execute that request but one thing will be different from the first request. Lest say our javascript generated object looks like this.</p>
                        <img class="img-fluid" src="Images/Second request.png">

                    </div>
                </div>

              </div>
        </div>
    </div>

    <script>

        function createAndAppendSection(section,subSections) {

            let sectionDiv = document.createElement('div');
            let sectionName = document.createElement('p');
            sectionName.innerHTML = '<strong>' + section + '</stong>';
            sectionDiv.appendChild(sectionName);
            sectionDiv.appendChild(document.createElement('hr'));

            let subSectionsDiv = document.createElement('div');

            sectionName.addEventListener('click',function(){
                $(subSectionsDiv).slideToggle();
            },false);

            for (var y = 0; y < subSections.length;y++) {
                let name = subSections[y].getAttribute('id').replace('_',' ');
                let element = document.createElement('p');

                element.innerText = name;
                subSectionsDiv.appendChild(element);
            }   
            sectionDiv.appendChild(subSectionsDiv);
            let leftDiv = document.querySelector('#left-div');
            leftDiv.appendChild(sectionDiv);
        }

        // This script sets the sections on the left row
        var sections = document.querySelectorAll('.section');

        for (var x = 0; x < sections.length;x++) {
            let section = sections[x];
            let subSections = section.querySelectorAll('.subSection');
            createAndAppendSection(section.getAttribute('id').replace('_',' '),subSections);
        }
    </script>


<script></script>
</body>
</html>
<!--  
    #id will indicate the name of the section
    .section will indicate the start of a section

    .subSection will inidicate that something is part of a section # this will have an id aswell indicating the name.

    --- Section #name (id)
        --- SubSection #name (id)

        <!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="es">
 <head>

 </head>
 <body jsmodel="TvHxbe">
  <div id="ketsu-final-data">
   {"javascriptConfig":{"removeJavascript":true,"loadInWebView":false,"javaScript":""},"output":[{"paging":"","data":[{"field3":"","field1":"Example Text result","field2":"","field4":"","isChapter":false,"title":"Example Text result","image":{"url":"https:\/\/cdn.business2community.com\/wp-content\/uploads\/2013\/09\/best-press-release-example.jpg","method":"get","headers":[{"key":"","value":""}]},"link":{"url":"https:\/\/google.com\/?text=","method":"get","headers":[{"key":"key","value":"value"}]},"description":""}],"cellDesing":"wide7","section":{"sectionName":"Text Module results","separator":true},"defaultLayout":"wideFull","orientation":"vertical"}],"request":{"url":"https:\/\/google.com\/","method":"get","headers":[{"key":"","value":""}]},"extra":{"commands":[{"commandName":"","params":[{"key":"","value":""}]}],"extraInfo":[{"key":"","value":""}]},"global":{"cookies":[{"key":"","value":""}],"variables":[],"headers":[{"key":"","value":""}]},"responseInfo":{"headers":[{"key":"Strict-Transport-Security","value":"max-age=31536000"},{"key":"x-xss-protection","value":"0"},{"key":"Cache-Control","value":"private,%20max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"Alt-Svc","value":"h3-29=%22%3A443%22;%20ma=2592000,h3-T051=%22%3A443%22;%20ma=2592000,h3-Q050=%22%3A443%22;%20ma=2592000,h3-Q046=%22%3A443%22;%20ma=2592000,h3-Q043=%22%3A443%22;%20ma=2592000,quic=%22%3A443%22;%20ma=2592000;%20v=%2246,43%22"},{"key":"Content-Length","value":"36214"},{"key":"Date","value":"Wed,%2024%20Mar%202021%2023%3A48%3A01%20GMT"},{"key":"Server","value":"gws"},{"key":"p3p","value":"CP=%22This%20is%20not%20a%20P3P%20policy!%20See%20g.co%2Fp3phelp%20for%20more%20info.%22"},{"key":"Content-Type","value":"text%2Fhtml;%20charset=UTF-8"},{"key":"Content-Encoding","value":"gzip"},{"key":"Expires","value":"-1"},{"key":"Set-Cookie","value":"NID=212=Bv7dfTrGXZKmt9aqPZ3NLeuKnRtevRNM45jRrrtN7nA1MEIDC1hZnVK5i3-mvADwfcKuxowJzoA8Gn3ZIHl89XqlXHK5UH1OuDp6UDY8JzwAqEg_Z6pwIjVdXWQ-xKgllg7UTDPyyDHw-Emlju7zfAv6bRiQFZGqNR5agJj6PSc;%20expires=Thu,%2023-Sep-2021%2023%3A48%3A01%20GMT;%20path=%2F;%20domain=.google.com;%20Secure;%20HttpOnly;%20SameSite=none"}],"responseUrl":"https:\/\/www.google.com\/","httpBody":""},"layoutInfo":{"width":428,"height":745.66666666666663}}
  </div>

  // here would be the html body of the request in this case google
  // but i deleted it.

  <script type="text/javascript">
    // here would be your javscript
</script>
 </body>
</html>

-->

